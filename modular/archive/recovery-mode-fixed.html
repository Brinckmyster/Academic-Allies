<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recovery Mode - Mary's Safe Space</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #fff;
        }

        .recovery-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeIn 1s ease-in;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
            color: #333;
            animation: slideUp 0.5s ease-out;
        }

        .card h2 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            width: 100%;
            margin: 10px 0;
            transition: transform 0.2s, box-shadow 0.2s;
            font-weight: 600;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-emergency {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            font-size: 1.3rem;
            padding: 20px;
        }

        .meal-suggestion {
            background: #f0f4ff;
            padding: 15px;
            border-radius: 15px;
            margin: 10px 0;
            border-left: 4px solid #667eea;
        }

        .meal-suggestion strong {
            color: #667eea;
            display: block;
            margin-bottom: 5px;
        }

        .flower-quiz {
            text-align: center;
        }

        .flower-image {
            width: 100%;
            max-width: 400px;
            height: 300px;
            object-fit: cover;
            border-radius: 15px;
            margin: 15px 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .quiz-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }

        .quiz-btn {
            background: #f0f4ff;
            color: #667eea;
            border: 2px solid #667eea;
            padding: 12px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.95rem;
        }

        .quiz-btn:hover {
            background: #667eea;
            color: white;
        }

        .quiz-btn.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }

        .quiz-btn.incorrect {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }

        .breathing-circle {
            width: 150px;
            height: 150px;
            margin: 20px auto;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            animation: breathe 4s ease-in-out infinite;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        .gentle-reminder {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            padding: 15px;
            border-radius: 15px;
            margin: 15px 0;
            color: #2d3436;
            font-size: 1.1rem;
            text-align: center;
        }

        .hidden {
            display: none;
        }

        .progress-bar {
            background: #e0e0e0;
            border-radius: 10px;
            height: 8px;
            margin: 15px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            transition: width 0.3s ease;
        }

        .achievement {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            padding: 12px;
            border-radius: 12px;
            margin: 10px 0;
            color: #2d3436;
            text-align: center;
            font-weight: 600;
        }

        @media (max-width: 600px) {
            .header h1 {
                font-size: 2rem;
            }
            .card {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="recovery-container">
        <div class="header">
            <h1>üå∏ Recovery Mode üå∏</h1>
            <p>You're safe here, Mary. Take it one step at a time.</p>
        </div>

        <!-- Emergency Support -->
        <div class="card">
            <button class="btn btn-emergency" onclick="window.location.href='/Academic-Allies/modular/emergency.html'">
                üÜò I Need Help Now
            </button>
        </div>

        <!-- Gentle Breathing Exercise -->
        <div class="card">
            <h2>ü´Å Breathe With Me</h2>
            <p style="text-align: center; margin-bottom: 15px;">Follow the circle. Breathe in as it grows, out as it shrinks.</p>
            <div class="breathing-circle"></div>
            <p style="text-align: center; font-size: 0.9rem; color: #666;">4 seconds in, 4 seconds out</p>
        </div>

        <!-- Simple Meal Suggestions -->
        <div class="card">
            <h2>üçΩÔ∏è Easy Meal Ideas (Mary-Safe)</h2>
            <div class="gentle-reminder">
                Remember: Solids before 5pm, liquids only after 5pm
            </div>
            
            <div id="meal-suggestions">
                <div class="meal-suggestion">
                    <strong>10:30am - Breakfast</strong>
                    Smooth yogurt (lactose-free) with a little applesauce
                </div>
                <div class="meal-suggestion">
                    <strong>1:30pm - Lunch</strong>
                    Mashed potatoes (smooth) with soft turkey slices
                </div>
                <div class="meal-suggestion">
                    <strong>4:30pm - Dinner</strong>
                    Plain white rice with soft-cooked carrots
                </div>
                <div class="meal-suggestion">
                    <strong>After 5pm - Liquids Only</strong>
                    Water, warm water with honey, or clear broth
                </div>
            </div>
            
            <button class="btn" onclick="generateNewMeals()">
                üîÑ Show Different Options
            </button>
        </div>

        <!-- Flower Identification Quiz - Mary's COMPLETE Class Collection -->
        <div class="card flower-quiz">
            <h2>üå∫ Flower Arranging Class Practice</h2>
            <p style="margin-bottom: 10px;">Keep your skills fresh while you rest üíö</p>
            <p style="font-size: 0.9rem; color: #666; margin-bottom: 15px;">All 51 varieties from your Pinterest board!</p>
            
            <div id="flower-quiz-content">
                <img id="flower-image" class="flower-image" src="" alt="Flower to identify">
                <div class="quiz-buttons" id="quiz-options"></div>
            </div>
            
            <div id="quiz-result" class="hidden achievement"></div>
            
            <button class="btn" onclick="loadNewFlower()" id="next-flower-btn">
                üå∏ Next Flower
            </button>

            <div class="progress-bar">
                <div class="progress-fill" id="quiz-progress" style="width: 0%"></div>
            </div>
            <p style="text-align: center; margin-top: 10px; color: #666;">
                Flowers identified today: <span id="flower-count">0</span>
            </p>
        </div>

        <!-- Gentle Activity Suggestions -->
        <div class="card">
            <h2>üåø Tiny Steps Forward</h2>
            <p style="margin-bottom: 15px; color: #666;">Pick just ONE if you can. Or none - that's okay too.</p>
            
            <button class="btn" onclick="markActivity('drink')">
                üíß Drink some water
            </button>
            <button class="btn" onclick="markActivity('stretch')">
                üßò Gentle 2-minute stretch
            </button>
            <button class="btn" onclick="markActivity('sunlight')">
                ‚òÄÔ∏è Sit by a window for 5 min
            </button>
            <button class="btn" onclick="markActivity('music')">
                üéµ Listen to one favorite song
            </button>
            
            <div id="activity-achievements" class="hidden"></div>
        </div>

        <!-- Optional Scripture Comfort -->
        <div class="card">
            <h2>üìñ A Word of Comfort</h2>
            <div id="scripture-verse" style="padding: 20px; background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%); border-radius: 15px; text-align: center; font-size: 1.15rem; line-height: 1.8; color: #2d3436; font-style: italic;">
            </div>
            <button class="btn" onclick="showNewScripture()">
                ‚ú® Show Another Scripture
            </button>
        </div>

        <!-- Support Messages -->
        <div class="card">
            <h2>üíú You Matter</h2>
            <div id="support-message" style="padding: 15px; background: #f0f4ff; border-radius: 12px; text-align: center; font-size: 1.1rem; line-height: 1.6;">
            </div>
            <button class="btn" onclick="showNewMessage()">
                üíå Show Me Another
            </button>
        </div>
    </div>

    <script>
        // MARY'S COMPLETE FLOWER COLLECTION - All 51 varieties from her Pinterest board!
        const flowers = [
            // GREENS/FOLIAGE (14 varieties)
            { name: 'Myrtle (Myrtus)', image: 'https://picsum.photos/seed/myrtle/400/300', options: ['Myrtle (Myrtus)', 'Boxwood', 'Pittosporum', 'Eucalyptus'] },
            { name: 'Pittosporum', image: 'https://picsum.photos/seed/pittosporum/400/300', options: ['Pittosporum', 'Myrtle', 'Viburnum', 'Boxwood'] },
            { name: 'Grevillea', image: 'https://picsum.photos/seed/grevillea/400/300', options: ['Grevillea', 'Protea', 'Leucadendron', 'Banksia'] },
            { name: 'Salal (Gaultheria)', image: 'https://picsum.photos/seed/salal/400/300', options: ['Salal (Gaultheria)', 'Lemon Leaf', 'Huckleberry', 'Leather Leaf'] },
            { name: 'Italian Ruscus', image: 'https://picsum.photos/seed/italianruscus/400/300', options: ['Italian Ruscus', 'Israeli Ruscus', 'Aspidistra', 'Bear Grass'] },
            { name: 'Israeli Ruscus', image: 'https://picsum.photos/seed/israeliruscus/400/300', options: ['Israeli Ruscus', 'Italian Ruscus', 'Asparagus Fern', 'Tree Fern'] },
            { name: 'Seeded Eucalyptus', image: 'https://picsum.photos/seed/seededeucalyptus/400/300', options: ['Seeded Eucalyptus', 'Silver Dollar', 'Baby Blue Eucalyptus', 'Regular Eucalyptus'] },
            { name: 'Lilly Grass (Liriope)', image: 'https://picsum.photos/seed/lillygrass/400/300', options: ['Lilly Grass (Liriope)', 'Mondo Grass', 'Fountain Grass', 'Bear Grass'] },
            { name: 'Bear Grass (Xerophyllum)', image: 'https://picsum.photos/seed/beargrass/400/300', options: ['Bear Grass (Xerophyllum)', 'Lilly Grass', 'Fountain Grass', 'Pampas Grass'] },
            { name: 'Leather Leaf (Rumohra)', image: 'https://picsum.photos/seed/leatherleaf/400/300', options: ['Leather Leaf (Rumohra)', 'Tree Fern', 'Asparagus Fern', 'Plumosa'] },
            { name: 'Curly Willow (Salix)', image: 'https://picsum.photos/seed/curlywillow/400/300', options: ['Curly Willow (Salix)', 'Birch Branches', 'Pussy Willow', 'Dogwood'] },
            { name: 'Baby Blue Eucalyptus', image: 'https://picsum.photos/seed/babyblueeucalyptus/400/300', options: ['Baby Blue Eucalyptus', 'Seeded Eucalyptus', 'Silver Dollar', 'Dusty Miller'] },
            { name: 'Bells of Ireland (Moluccella)', image: 'https://picsum.photos/seed/bellsofireland/400/300', options: ['Bells of Ireland (Moluccella)', 'Green Trick Dianthus', 'Green Mums', 'Bupleurum'] },
            { name: 'Lemon Leaf', image: 'https://picsum.photos/seed/lemonleaf/400/300', options: ['Lemon Leaf', 'Salal', 'Leather Leaf', 'Oregon Grape'] },
            
            // BLOOMS (37 varieties)
            { name: 'Gerber Daisy (Gerbera)', image: 'https://picsum.photos/seed/gerberdaisy/400/300', options: ['Gerber Daisy (Gerbera)', 'Gerbera Daisy', 'Transvaal Daisy', 'African Daisy'] },
            { name: 'Iris', image: 'https://picsum.photos/seed/iris/400/300', options: ['Iris', 'Bearded Iris', 'Dutch Iris', 'Siberian Iris'] },
            { name: 'Anthurium', image: 'https://picsum.photos/seed/anthurium/400/300', options: ['Anthurium', 'Flamingo Flower', 'Laceleaf', 'Tailflower'] },
            { name: 'Billy Balls (Craspedia)', image: 'https://picsum.photos/seed/billyballs/400/300', options: ['Billy Balls (Craspedia)', 'Drumstick Flower', 'Yellow Yarrow', 'Golden Buttons'] },
            { name: 'Lily (Lilium)', image: 'https://picsum.photos/seed/lily/400/300', options: ['Lily (Lilium)', 'Oriental Lily', 'Asiatic Lily', 'Stargazer Lily'] },
            { name: 'Disbud Mum (Chrysanthemum)', image: 'https://picsum.photos/seed/disbudmum/400/300', options: ['Disbud Mum', 'Football Mum', 'Spider Mum', 'Cushion Mum'] },
            { name: 'Bird of Paradise (Strelitzia)', image: 'https://picsum.photos/seed/birdofparadise/400/300', options: ['Bird of Paradise (Strelitzia)', 'Heliconia', 'Ginger Flower', 'Tropical Bird'] },
            { name: 'Tulip (Tulipa)', image: 'https://picsum.photos/seed/tulip/400/300', options: ['Tulip (Tulipa)', 'French Tulip', 'Parrot Tulip', 'Double Tulip'] },
            { name: 'Calla Lily (Zantedeschia)', image: 'https://picsum.photos/seed/callalily/400/300', options: ['Calla Lily (Zantedeschia)', 'Arum Lily', 'Mini Calla', 'Calla'] },
            { name: 'Sunflower (Helianthus)', image: 'https://picsum.photos/seed/sunflower/400/300', options: ['Sunflower (Helianthus)', 'Teddy Bear Sunflower', 'Mammoth Sunflower', 'Lemon Queen'] },
            { name: 'Sea Holly (Eryngium)', image: 'https://picsum.photos/seed/seaholly/400/300', options: ['Sea Holly (Eryngium)', 'Thistle', 'Blue Thistle', 'Globe Thistle'] },
            { name: 'Hypericum Berries', image: 'https://picsum.photos/seed/hypericumberries/400/300', options: ['Hypericum Berries', 'St Johns Wort', 'Rose Hips', 'Viburnum Berries'] },
            { name: 'Aster', image: 'https://picsum.photos/seed/aster/400/300', options: ['Aster', 'Michaelmas Daisy', 'September Flower', 'Star Flower'] },
            { name: 'Pixie Carnation (Dianthus)', image: 'https://picsum.photos/seed/pixiecarnation/400/300', options: ['Pixie Carnation', 'Mini Carnation', 'Spray Carnation', 'Sweet William'] },
            { name: 'Waxflower (Chamelaucium)', image: 'https://picsum.photos/seed/waxflower/400/300', options: ['Waxflower (Chamelaucium)', 'Geraldton Wax', 'Tea Tree', 'Leptospermum'] },
            { name: 'Babies Breath (Gypsophila)', image: 'https://picsum.photos/seed/babiesbreath/400/300', options: ['Babies Breath (Gypsophila)', 'Million Stars', 'Gyp', 'Cloud Flower'] },
            { name: 'Queen Annes Lace (Ammi)', image: 'https://picsum.photos/seed/queenannes/400/300', options: ['Queen Annes Lace (Ammi)', 'Ammi Majus', 'Wild Carrot', 'Bishops Lace'] },
            { name: 'Statice (Limonium)', image: 'https://picsum.photos/seed/statice/400/300', options: ['Statice (Limonium)', 'Sea Lavender', 'Marsh Rosemary', 'Wavyleaf'] },
            { name: 'Misty Blue (Limonium)', image: 'https://picsum.photos/seed/mistyblue/400/300', options: ['Misty Blue', 'Caspia', 'German Statice', 'Seafoam Statice'] },
            { name: 'Solidago', image: 'https://picsum.photos/seed/solidago/400/300', options: ['Solidago', 'Goldenrod', 'Golden Rod', 'Yellow Aster'] },
            { name: 'Dendrobium Orchid', image: 'https://picsum.photos/seed/dendrobium/400/300', options: ['Dendrobium Orchid', 'Singapore Orchid', 'Phalaenopsis', 'Cymbidium'] },
            { name: 'Stock (Matthiola)', image: 'https://picsum.photos/seed/stock/400/300', options: ['Stock (Matthiola)', 'Column Stock', 'Ten Week Stock', 'Night Scented Stock'] },
            { name: 'Gladiola (Gladiolus)', image: 'https://picsum.photos/seed/gladiola/400/300', options: ['Gladiola (Gladiolus)', 'Sword Lily', 'Glads', 'Corn Lily'] },
            { name: 'Liatris', image: 'https://picsum.photos/seed/liatris/400/300', options: ['Liatris', 'Blazing Star', 'Gayfeather', 'Button Snakeroot'] },
            { name: 'Delphinium', image: 'https://picsum.photos/seed/delphinium/400/300', options: ['Delphinium', 'Larkspur', 'Blue Delphinium', 'Candle Larkspur'] },
            { name: 'Larkspur (Consolida)', image: 'https://picsum.photos/seed/larkspur/400/300', options: ['Larkspur (Consolida)', 'Delphinium', 'Rocket Larkspur', 'Annual Delphinium'] },
            { name: 'Snapdragon (Antirrhinum)', image: 'https://picsum.photos/seed/snapdragon/400/300', options: ['Snapdragon (Antirrhinum)', 'Dragon Flower', 'Toadflax', 'Lions Mouth'] },
            { name: 'China Aster (Callistephus)', image: 'https://picsum.photos/seed/chinaaster/400/300', options: ['China Aster', 'Garden Aster', 'Annual Aster', 'Callistephus'] },
            { name: 'Safari Sunset (Leucadendron)', image: 'https://picsum.photos/seed/safarisunset/400/300', options: ['Safari Sunset (Leucadendron)', 'Protea', 'Conebush', 'Pincushion'] },
            { name: 'Ranunculus', image: 'https://picsum.photos/seed/ranunculus/400/300', options: ['Ranunculus', 'Persian Buttercup', 'Turban Buttercup', 'Rannie'] },
            { name: 'Peony (Paeonia)', image: 'https://picsum.photos/seed/peony/400/300', options: ['Peony (Paeonia)', 'Garden Peony', 'Chinese Peony', 'Common Peony'] },
            { name: 'Hydrangea', image: 'https://picsum.photos/seed/hydrangea/400/300', options: ['Hydrangea', 'Mophead Hydrangea', 'Lacecap', 'Bigleaf Hydrangea'] },
            { name: 'Lisianthus (Eustoma)', image: 'https://picsum.photos/seed/lisianthus/400/300', options: ['Lisianthus (Eustoma)', 'Texas Bluebell', 'Prairie Gentian', 'Eustoma'] },
            { name: 'Alstroemeria (Alstro)', image: 'https://picsum.photos/seed/alstroemeria/400/300', options: ['Alstroemeria (Alstro)', 'Peruvian Lily', 'Lily of the Incas', 'Parrot Lily'] },
            { name: 'Rose (Rosa)', image: 'https://picsum.photos/seed/rose/400/300', options: ['Rose (Rosa)', 'Garden Rose', 'Spray Rose', 'Hybrid Tea Rose'] },
            { name: 'Daisy Pom (Chrysanthemum)', image: 'https://picsum.photos/seed/daisypom/400/300', options: ['Daisy Pom', 'Pom Pom Mum', 'Button Mum', 'Pompom Chrysanthemum'] },
            { name: 'Carnation (Dianthus)', image: 'https://picsum.photos/seed/carnation/400/300', options: ['Carnation (Dianthus)', 'Standard Carnation', 'Clove Pink', 'Gillyflower'] }
        ];

        let currentFlower = null;
        let flowerCount = parseInt(localStorage.getItem('flowerCount') || '0');
        document.getElementById('flower-count').textContent = flowerCount;

        // Comforting scriptures for difficult times
        const comfortingScriptures = [
            { text: "Come unto me, all ye that labour and are heavy laden, and I will give you rest.", reference: "Matthew 11:28" },
            { text: "Peace I leave with you, my peace I give unto you: not as the world giveth, give I unto you. Let not your heart be troubled, neither let it be afraid.", reference: "John 14:27" },
            { text: "Cast thy burden upon the Lord, and he shall sustain thee.", reference: "Psalm 55:22" },
            { text: "The Lord is nigh unto them that are of a broken heart; and saveth such as be of a contrite spirit.", reference: "Psalm 34:18" },
            { text: "Fear thou not; for I am with thee: be not dismayed; for I am thy God: I will strengthen thee; yea, I will help thee.", reference: "Isaiah 41:10" },
            { text: "Be still, and know that I am God.", reference: "Psalm 46:10" },
            { text: "My grace is sufficient for thee: for my strength is made perfect in weakness.", reference: "2 Corinthians 12:9" },
            { text: "And we know that all things work together for good to them that love God.", reference: "Romans 8:28" },
            { text: "I can do all things through Christ which strengtheneth me.", reference: "Philippians 4:13" },
            { text: "Trust in the Lord with all thine heart; and lean not unto thine own understanding.", reference: "Proverbs 3:5" },
            { text: "For I know the thoughts that I think toward you, saith the Lord, thoughts of peace, and not of evil, to give you an expected end.", reference: "Jeremiah 29:11" },
            { text: "The Lord thy God in the midst of thee is mighty; he will save, he will rejoice over thee with joy.", reference: "Zephaniah 3:17" },
            { text: "Wait on the Lord: be of good courage, and he shall strengthen thine heart.", reference: "Psalm 27:14" },
            { text: "Behold, I stand at the door, and knock: if any man hear my voice, and open the door, I will come in to him.", reference: "Revelation 3:20" }
        ];

        function showNewScripture() {
            const scripture = comfortingScriptures[Math.floor(Math.random() * comfortingScriptures.length)];
            document.getElementById('scripture-verse').innerHTML = `
                "${scripture.text}"
                <div style="margin-top: 15px; font-size: 0.95rem; font-style: normal; font-weight: 600;">
                    ‚Äî ${scripture.reference}
                </div>
            `;
        }

        // Support messages - LDS-appropriate
        const supportMessages = [
            "You're doing better than you think. This moment doesn't define you.",
            "Rest is not weakness. Rest is medicine.",
            "Your body knows what it needs. Listen to it gently.",
            "One breath at a time. One moment at a time. You're here, and that's enough.",
            "The sun will come out again. It always does.",
            "You are loved exactly as you are, right now, in this moment.",
            "Small steps are still steps forward. Be proud of showing up.",
            "Your feelings are valid. All of them. Even the hard ones.",
            "Tomorrow is a new day with no mistakes in it yet.",
            "You're stronger than the darkness. You always have been.",
            "Heavenly Father knows your heart. He sees your efforts.",
            "Peace I leave with you. (John 14:27) You are not alone.",
            "Cast thy burden upon the Lord. (Psalm 55:22) He will sustain you.",
            "This too shall pass. The Savior walks beside you.",
            "You are a daughter of God. Your worth is infinite.",
            "Be still, and know. (Psalm 46:10) Rest is holy.",
            "The Lord is nigh unto them that are of a broken heart. (Psalm 34:18)",
            "Charity never faileth - and that includes charity toward yourself.",
            "Your prayers are heard, even when they're just tears.",
            "After the trial of your faith, the blessing will come. Keep going."
        ];

        // Mary-safe meal options (Word of Wisdom compliant, gastroparesis-friendly)
        const mealOptions = {
            breakfast: [
                "Smooth yogurt (lactose-free) with a little applesauce",
                "Soft white toast with lactose-free butter",
                "Cream of wheat (thin) with banana slices",
                "Scrambled egg (if tolerated this week) with soft white bread",
                "Plain oatmeal (very thin) with mashed banana"
            ],
            lunch: [
                "Mashed potatoes (smooth) with soft turkey slices",
                "White rice with soft-cooked green beans",
                "Plain pasta with olive oil and soft chicken",
                "Turkey & cheese sandwich (white bread, soft)",
                "Chicken and rice soup (strained, no corn)"
            ],
            dinner: [
                "Plain white rice with soft-cooked carrots",
                "Mashed potatoes with gravy and soft turkey",
                "Soft pasta with lactose-free butter",
                "White rice with soft squash",
                "Smooth mashed potatoes with soft chicken"
            ],
            liquids: [
                "Water with a slice of peeled apple",
                "Warm water with honey",
                "Clear broth (chicken or vegetable)",
                "Lactose-free milk",
                "Hot chocolate (lactose-free)",
                "Apple juice (warmed or cold)"
            ]
        };

        function loadNewFlower() {
            currentFlower = flowers[Math.floor(Math.random() * flowers.length)];
            document.getElementById('flower-image').src = currentFlower.image;
            
            const optionsContainer = document.getElementById('quiz-options');
            optionsContainer.innerHTML = '';
            
            // Shuffle options
            const shuffled = [...currentFlower.options].sort(() => Math.random() - 0.5);
            
            shuffled.forEach(option => {
                const btn = document.createElement('button');
                btn.className = 'quiz-btn';
                btn.textContent = option;
                btn.onclick = () => checkAnswer(option, btn);
                optionsContainer.appendChild(btn);
            });
            
            document.getElementById('quiz-result').classList.add('hidden');
        }

        function checkAnswer(selected, button) {
            const allButtons = document.querySelectorAll('.quiz-btn');
            allButtons.forEach(btn => btn.disabled = true);
            
            if (selected === currentFlower.name) {
                button.classList.add('correct');
                flowerCount++;
                localStorage.setItem('flowerCount', flowerCount);
                document.getElementById('flower-count').textContent = flowerCount;
                document.getElementById('quiz-progress').style.width = Math.min(flowerCount * 2, 100) + '%';
                
                const result = document.getElementById('quiz-result');
                result.textContent = `‚ú® Perfect! That's ${currentFlower.name}! Your class skills are sharp! ‚ú®`;
                result.classList.remove('hidden');
            } else {
                button.classList.add('incorrect');
                const correctBtn = Array.from(allButtons).find(btn => btn.textContent === currentFlower.name);
                if (correctBtn) correctBtn.classList.add('correct');
                
                const result = document.getElementById('quiz-result');
                result.textContent = `That's okay! It's ${currentFlower.name}. You're studying and that's what matters! üíú`;
                result.classList.remove('hidden');
            }
            
            setTimeout(() => {
                allButtons.forEach(btn => {
                    btn.disabled = false;
                    btn.classList.remove('correct', 'incorrect');
                });
            }, 2000);
        }

        function generateNewMeals() {
            const suggestions = document.getElementById('meal-suggestions');
            const breakfast = mealOptions.breakfast[Math.floor(Math.random() * mealOptions.breakfast.length)];
            const lunch = mealOptions.lunch[Math.floor(Math.random() * mealOptions.lunch.length)];
            const dinner = mealOptions.dinner[Math.floor(Math.random() * mealOptions.dinner.length)];
            const liquid = mealOptions.liquids[Math.floor(Math.random() * mealOptions.liquids.length)];
            
            suggestions.innerHTML = `
                <div class="meal-suggestion">
                    <strong>10:30am - Breakfast</strong>
                    ${breakfast}
                </div>
                <div class="meal-suggestion">
                    <strong>1:30pm - Lunch</strong>
                    ${lunch}
                </div>
                <div class="meal-suggestion">
                    <strong>4:30pm - Dinner</strong>
                    ${dinner}
                </div>
                <div class="meal-suggestion">
                    <strong>After 5pm - Liquids Only</strong>
                    ${liquid}
                </div>
            `;
        }

        function markActivity(activity) {
            const achievements = document.getElementById('activity-achievements');
            achievements.classList.remove('hidden');
            
            const icons = {
                drink: 'üíß',
                stretch: 'üßò',
                sunlight: '‚òÄÔ∏è',
                music: 'üéµ'
            };
            
            const messages = {
                drink: "Wonderful! You're taking care of yourself!",
                stretch: "Great job! Your body thanks you!",
                sunlight: "Beautiful! Vitamin D is so important!",
                music: "Perfect! Music heals the soul!"
            };
            
            achievements.innerHTML = `
                <div class="achievement">
                    ${icons[activity]} ${messages[activity]}
                </div>
            `;
            
            setTimeout(() => achievements.classList.add('hidden'), 4000);
        }

        function showNewMessage() {
            const message = supportMessages[Math.floor(Math.random() * supportMessages.length)];
            document.getElementById('support-message').textContent = message;
        }

        // Initialize
        loadNewFlower();
        showNewMessage();
        showNewScripture();
    </script>
</body>
</html>
