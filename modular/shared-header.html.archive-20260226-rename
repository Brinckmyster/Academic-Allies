<header class="site-header" role="banner">
  <div class="header-content">
    <a aria-label="Home" class="home-link" href="/Academic-Allies/" title="Go Home">
    <img alt="Home" class="home-icon" src="/Academic-Allies/modular/icons/home.png" width="48" height="48" title="Academic Allies Home"/>
    </a>
      <span class="tagline" title="Academic Allies
Your disability accommodations and support network">Your disability accommodations and support network</span>
    <nav aria-label="Main navigation">
      <ul class="nav-list">
        <li><a href="/Academic-Allies/modular/components/calendar/calendar.html" title="Calendar">Calendar</a></li>
        <!-- Updated 2026-02-26 by Claude â€” unread badge dot added -->
        <li style="position:relative;">
          <a href="/Academic-Allies/modular/components/message-system/message-system.html" title="Messages">Messages</a>
          <span id="msg-nav-badge" style="display:none;position:absolute;top:1px;right:-4px;
            background:#dc3545;border-radius:50%;width:9px;height:9px;
            box-shadow:0 0 0 2px #fff;pointer-events:none;"></span>
        </li>
        <li id="supportNetworkNavLi" style="display:none"><a href="/Academic-Allies/modular/components/user-tiers/user-tiers.html" title="My Support Network">My Support Network</a></li>
        <li><a href="/Academic-Allies/modular/emergency.html" title="Emergency Contact">Emergency Contact</a></li>
        <li><a href="/Academic-Allies/modular/checkin.html" title="Daily Check-In">Daily Check-In</a></li>
        <!-- Added: 2026-02-26 by Claude â€” UTC converter now linked from nav -->
        <li><a href="/Academic-Allies/modular/static/utc-converter.html" title="UTC Time Converter">UTC Clock</a></li>
        <li><a href="/Academic-Allies/modular/icon-gallery.html" title="Icon Gallery">Icon Gallery</a></li>
        <li><a href="/Academic-Allies/modular/static/sitemap.html" title="Site Map">Site Map</a></li>
      </ul>
    </nav>
    <div style="display:flex;gap:10px;align-items:center;margin-left:20px;flex-wrap:wrap;">
      <span style="font-weight:600;color:#555;">Mode:</span>
      <a href="/Academic-Allies/" style="padding:8px 12px;background:#6CA0A3;color:#fff;text-decoration:none;border-radius:6px;display:inline-flex;align-items:center;gap:6px;font-size:14px;"><img src="/Academic-Allies/modular/icons/mode-normal-outline.png" width="20" height="20" alt="Normal">Normal</a>
      <a href="/Academic-Allies/modular/components/recovery-mode.html" style="padding:8px 12px;background:#6CA0A3;color:#fff;text-decoration:none;border-radius:6px;display:inline-flex;align-items:center;gap:6px;font-size:14px;"><img src="/Academic-Allies/modular/icons/mode-recovery.png" width="20" height="20" alt="Recovery">Recovery</a>
      <!-- Updated: 2026-02-25 by Claude â€” wired Bad Brain button to bad-brain-day.html -->
      <a href="/Academic-Allies/modular/components/bad-brain-day.html" style="padding:8px 12px;background:#6CA0A3;color:#fff;text-decoration:none;border-radius:6px;display:inline-flex;align-items:center;gap:6px;font-size:14px;"><img src="/Academic-Allies/modular/icons/mode-bad-brain-perplexity.png" width="20" height="20" alt="Bad Brain">Bad Brain</a>
      <a href="/Academic-Allies/modular/nope-mode.html" style="padding:8px 12px;background:#6CA0A3;color:#fff;text-decoration:none;border-radius:6px;display:inline-flex;align-items:center;gap:6px;font-size:14px;"><img src="/Academic-Allies/modular/icons/mode-semi-nope-shadow.png" width="20" height="20" alt="Semi-Nope">Semi-Nope</a>
      <a href="/Academic-Allies/modular/nope-mode.html" style="padding:8px 12px;background:#c0392b;color:#fff;text-decoration:none;border-radius:6px;display:inline-flex;align-items:center;gap:6px;font-size:14px;font-weight:700;"><img src="/Academic-Allies/modular/icons/mode-nope-button.png" width="20" height="20" alt="Nope">NOPE</a>
    </div>

    <div class="header-controls">
      <!-- User Info Display (hidden until signed in) -->
      <div id="userInfoDisplay" style="display: none; margin-right: 10px; align-items: center; gap: 7px;">
        <img id="userTierIcon" src="" alt="" width="28" height="28"
          style="border-radius:50%;object-fit:cover;display:none;vertical-align:middle;">
        <span id="userNameDisplay"></span>
      </div>

      <!-- Firebase Sign-In Button (hidden once signed in) -->
      <button id="aa-signin-btn" title="Sign in with Google"
        style="display:inline-flex;align-items:center;gap:8px;padding:7px 14px;background:#fff;color:#444;border:1px solid #dadce0;border-radius:4px;font-size:13px;font-weight:500;cursor:pointer;box-shadow:0 1px 2px rgba(0,0,0,0.1);">
        <svg width="16" height="16" viewBox="0 0 18 18" aria-hidden="true"><path fill="#4285F4" d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844a4.14 4.14 0 0 1-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z"/><path fill="#34A853" d="M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332A8.997 8.997 0 0 0 9 18z"/><path fill="#FBBC05" d="M3.964 10.71A5.41 5.41 0 0 1 3.682 9c0-.593.102-1.17.282-1.71V4.958H.957A8.996 8.996 0 0 0 0 9c0 1.452.348 2.827.957 4.042l3.007-2.332z"/><path fill="#EA4335" d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0A8.997 8.997 0 0 0 .957 4.958L3.964 6.29C4.672 4.163 6.656 3.58 9 3.58z"/></svg>
        Sign in with Google
      </button>

      <!-- Admin Panel Button (shown only for admins) -->
      <a id="adminPanelBtn" href="/Academic-Allies/modular/admin.html" title="Admin Panel" style="display:none;align-items:center;gap:6px;padding:7px 13px;background:#4a7f82;color:#fff;text-decoration:none;border-radius:6px;font-size:13px;font-weight:600;border:none;">
        <img src="https://brinckmyster.github.io/Academic-Allies/modular/icons/badge-admin-icon.png" width="18" height="18" alt="" style="vertical-align:middle;">
        Admin
      </a>

      <!-- Sign Out Button (hidden until signed in) -->
      <button id="signOutButton" style="display: none;">Sign Out</button>

      <!-- JS-Draggable Status Circle -->
      <div aria-label="Status: Not signed in" id="status-circle" tabindex="0" title="Click to toggle status, drag to reorder"></div>
    </div>
  </div>

  <!-- Updated: 2026-02-26 by Claude â€” status circle banner: shows current view + last check-in time -->
  <div id="sc-banner" aria-live="polite" aria-label="Status circle info"></div>

  <!-- Status Circle Container -->
  <div aria-live="polite" id="status-circle-container" role="status" title="Authentication Status"></div>

  <!-- â”€â”€ Firebase Auth (single source of truth for all pages) â”€â”€ -->
  <!-- Sequential loader: skips SDK loading if the page already loaded Firebase
       (e.g. admin.html loads it in <head>). Works the same on every page. -->
  <script>
  (function () {
    'use strict';
    var FB_BASE   = 'https://www.gstatic.com/firebasejs/9.23.0/';
    var AA_JS     = '/Academic-Allies/modular/aa-firebase.js?v=20260220f'; /* Updated: 2026-02-20 by Claude â€” Admin Panel button in header */

    /* â”€â”€ 3. Wire up the header UI once window.AA is ready â”€â”€ */
    function initAuthUI() {
      if (!window.AA || !window.AA.auth) { setTimeout(initAuthUI, 100); return; }

      var signinBtn       = document.getElementById('aa-signin-btn');
      var infoWrap        = document.getElementById('userInfoDisplay');
      var nameEl          = document.getElementById('userNameDisplay');
      var tierIconEl      = document.getElementById('userTierIcon');
      var signoutBtn      = document.getElementById('signOutButton');
      var adminBtn        = document.getElementById('adminPanelBtn');
      var networkNavLi    = document.getElementById('supportNetworkNavLi');

      /* Tier icon map */
      var TIER_ICONS = {
        'admin':       '/Academic-Allies/modular/icons/icon-user-admin.png',
        'student':     '/Academic-Allies/modular/icons/icon-user-student.png',
        'support':     '/Academic-Allies/modular/icons/icon-user-support.png',
        'nearby-help': '/Academic-Allies/modular/icons/icon-user-nearby-help.png',
        'family':      '/Academic-Allies/modular/icons/icon-user-family.png'
      };

      function setTierIcon(role) {
        if (!tierIconEl) return;
        var src = TIER_ICONS[role] || TIER_ICONS['student'];
        tierIconEl.src = src;
        tierIconEl.alt = role;
        tierIconEl.style.display = 'inline-block';
        tierIconEl.onerror = function () { tierIconEl.style.display = 'none'; };
      }

      /* Sign-in click â†’ Firebase Google popup */
      if (signinBtn) {
        signinBtn.addEventListener('click', function () {
          signinBtn.disabled    = true;
          signinBtn.textContent = 'Signing inâ€¦';
          window.AA.signInWithGoogle().catch(function (err) {
            console.error('[AA header] sign-in error:', err);
            signinBtn.disabled    = false;
            signinBtn.innerHTML   = '&#x25B6; Sign in with Google';
          });
        });
      }

      /* Sign-out click */
      if (signoutBtn) {
        signoutBtn.addEventListener('click', function () {
          sessionStorage.removeItem('academicAlliesUser');
          window.AA.signOut();
        });
      }

      /* â”€â”€ Access-denied overlay for pending/archived accounts â”€â”€
         Updated: 2026-02-26 by Claude */
      function _showAccessDenied(reason) {
        /* Reset sign-in button, hide everything else */
        if (signinBtn)  { signinBtn.style.display = 'inline-flex'; signinBtn.disabled = false; }
        if (infoWrap)   infoWrap.style.display   = 'none';
        if (signoutBtn) signoutBtn.style.display  = 'none';
        if (adminBtn)   adminBtn.style.display    = 'none';

        var msgs = {
          pending:  'â³ <strong>Access pending.</strong> Your account is awaiting role assignment. Contact <a href="mailto:brinckmyster@gmail.com">brinckmyster@gmail.com</a> if you think this is an error.',
          archived: 'ğŸ”’ <strong>Account archived.</strong> This account is no longer active. Contact your support team for help.'
        };

        /* Remove any existing message first */
        var old = document.getElementById('aa-access-msg');
        if (old) old.parentNode.removeChild(old);

        var el = document.createElement('div');
        el.id = 'aa-access-msg';
        el.style.cssText = [
          'position:fixed;top:70px;right:8px;z-index:1001',
          'background:#fff3cd;border:2px solid #ffc107;border-radius:8px',
          'padding:12px 16px;max-width:280px;font-size:13px;color:#856404',
          'box-shadow:0 2px 8px rgba(0,0,0,.15);line-height:1.5'
        ].join(';');
        el.innerHTML = msgs[reason] || msgs.pending;
        document.body.appendChild(el);

        /* Auto-dismiss after 12 seconds */
        setTimeout(function () {
          if (el.parentNode) el.parentNode.removeChild(el);
        }, 12000);
      }

      /* â”€â”€ Invite code redemption modal â€” shown for 'pending' new users â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         Added 2026-02-26 by Claude
         Instead of immediately signing the user out, we offer them the chance to
         redeem an invite code that a student shared with them. If they redeem
         successfully their role is set and the page reloads. If they skip (or the
         code fails) we fall through to the normal sign-out + access-denied flow.
      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      function _showInviteCodeModal(user) {
        /* Remove any stale modal */
        var old = document.getElementById('aa-invite-modal');
        if (old) old.parentNode.removeChild(old);

        var modal = document.createElement('div');
        modal.id = 'aa-invite-modal';
        modal.style.cssText = [
          'position:fixed;inset:0;z-index:2000;display:flex;align-items:center;justify-content:center',
          'background:rgba(0,0,0,0.55);backdrop-filter:blur(4px)'
        ].join(';');

        modal.innerHTML = [
          '<div style="background:#fff;border-radius:16px;padding:32px 28px;max-width:400px;width:90%;',
                        'box-shadow:0 8px 40px rgba(0,0,0,.25);text-align:center;font-family:Atkinson Hyperlegible,Arial,sans-serif;">',
            '<div style="font-size:2.5rem;margin-bottom:12px;">ğŸ‘‹</div>',
            '<h2 style="margin:0 0 8px;font-size:1.3rem;color:#4a7f82;">Welcome to Academic Allies!</h2>',
            '<p style="margin:0 0 20px;font-size:0.92rem;color:#666;line-height:1.5;">',
              'If a student sent you an invite code, enter it below to join their support network.',
            '</p>',
            '<input id="aa-invite-input" type="text" maxlength="8" autocomplete="off" spellcheck="false"',
                   'placeholder="e.g. XK9P2M"',
                   'oninput="this.value=this.value.toUpperCase().replace(/[^A-Z2-9]/g,\'\')"',
                   'onkeydown="if(event.key===\'Enter\')_redeemInviteCode()"',
                   'style="width:100%;box-sizing:border-box;padding:12px 14px;border:2px solid #b2d4d7;',
                          'border-radius:8px;font-size:1.5rem;font-family:Courier New,monospace;font-weight:700;',
                          'text-align:center;letter-spacing:0.15em;color:#4a7f82;margin-bottom:8px;">',
            '<div id="aa-invite-status" style="min-height:20px;font-size:0.85rem;margin-bottom:14px;"></div>',
            '<button onclick="_redeemInviteCode()"',
                    'style="width:100%;padding:11px;background:#6366f1;color:#fff;border:none;border-radius:8px;',
                           'font-size:1rem;font-weight:700;cursor:pointer;margin-bottom:10px;">',
              'Redeem Code',
            '</button>',
            '<button onclick="_skipInviteCode()"',
                    'style="width:100%;padding:9px;background:#fff;color:#888;border:1px solid #ddd;',
                           'border-radius:8px;font-size:0.9rem;cursor:pointer;">',
              'I don\'t have a code',
            '</button>',
          '</div>'
        ].join('');
        document.body.appendChild(modal);

        /* Focus the input right away */
        setTimeout(function () {
          var inp = document.getElementById('aa-invite-input');
          if (inp) inp.focus();
        }, 100);
      }

      /* Called when user clicks "Redeem Code" */
      window._redeemInviteCode = function () {
        var inp    = document.getElementById('aa-invite-input');
        var status = document.getElementById('aa-invite-status');
        if (!inp || !status) return;
        var code = (inp.value || '').trim().toUpperCase();
        if (!code || code.length < 6) {
          status.style.color = '#c0392b';
          status.textContent = 'Please enter a 6-character code.';
          return;
        }
        status.style.color = '#888';
        status.textContent = 'Checking codeâ€¦';
        inp.disabled = true;
        window.AA.redeemInvite(code).then(function () {
          status.style.color = '#10b981';
          status.textContent = 'âœ… Code accepted! Loading your accountâ€¦';
          setTimeout(function () { window.location.reload(); }, 800);
        }).catch(function (err) {
          inp.disabled = false;
          status.style.color = '#c0392b';
          var msg = err.message || '';
          if (msg.indexOf('not found') !== -1 || msg.indexOf('No invite') !== -1) {
            status.textContent = 'âŒ Code not found. Double-check and try again.';
          } else if (msg.indexOf('expired') !== -1) {
            status.textContent = 'âŒ That code has expired. Ask the student to send a new one.';
          } else if (msg.indexOf('already been used') !== -1) {
            status.textContent = 'âŒ That code has already been used.';
          } else {
            status.textContent = 'âŒ ' + msg;
          }
        });
      };

      /* Called when user clicks "I don't have a code" */
      window._skipInviteCode = function () {
        var modal = document.getElementById('aa-invite-modal');
        if (modal) modal.parentNode.removeChild(modal);
        window.AA.signOut().then(function () { _showAccessDenied('pending'); });
      };

      /* â”€â”€ Nav unread-message badge â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         Listens to all threads this user participates in. If any thread has
         lastAt > their stored lastRead timestamp, shows a red dot on the nav
         Messages link. Clears on sign-out.
         Added 2026-02-26 by Claude
      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
      var _navUnreadUnsub = null;

      function _watchNavUnread(uid) {
        if (_navUnreadUnsub) { _navUnreadUnsub(); _navUnreadUnsub = null; }
        _navUnreadUnsub = window.AA.db.collection('messages')
          .where('participants', 'array-contains', uid)
          .onSnapshot(function (snap) {
            var hasUnread = snap.docs.some(function (doc) {
              var lastAt   = doc.data().lastAt ? doc.data().lastAt.toMillis() : 0;
              var lastRead = parseInt(localStorage.getItem('aa-msg-read-' + doc.id) || '0', 10);
              return lastAt > lastRead;
            });
            var badge = document.getElementById('msg-nav-badge');
            if (badge) badge.style.display = hasUnread ? 'inline-block' : 'none';
          }, function () { /* permission error â€” just hide badge */ });
      }

      function _unwatchNavUnread() {
        if (_navUnreadUnsub) { _navUnreadUnsub(); _navUnreadUnsub = null; }
        var badge = document.getElementById('msg-nav-badge');
        if (badge) badge.style.display = 'none';
      }

      /* React to every auth state change */
      window.AA.auth.onAuthStateChanged(function (user) {
        if (!user) {
          if (signinBtn)     { signinBtn.style.display = 'inline-flex'; signinBtn.disabled = false; }
          if (infoWrap)      infoWrap.style.display      = 'none';
          if (signoutBtn)    signoutBtn.style.display     = 'none';
          if (adminBtn)      adminBtn.style.display       = 'none';
          if (networkNavLi)  networkNavLi.style.display   = 'none';
          _unwatchNavUnread(); /* clear unread badge on sign-out */
          return;
        }

        /* Look up role in Firestore */
        window.AA.db.collection('users').doc(user.uid).get()
          .then(function (doc) {
            var data    = doc.exists ? doc.data() : {};
            var role    = data.role || 'pending';

            /* â”€â”€ Archived account: sign out immediately â”€â”€ */
            if (data.archived === true) {
              window.AA.signOut().then(function () { _showAccessDenied('archived'); });
              return;
            }

            /* â”€â”€ Pending account: offer invite code redemption before signing out â”€â”€
               Added 2026-02-26 by Claude â€” replaces immediate sign-out with modal prompt */
            if (role === 'pending') {
              _showInviteCodeModal(user);
              return;
            }

            var isAdmin = (role === 'admin');
            var first   = (user.displayName || user.email || '').split(' ')[0];

            if (signinBtn)     signinBtn.style.display    = 'none';
            if (infoWrap)      infoWrap.style.display     = 'flex';
            if (nameEl)        nameEl.textContent          = first;
            if (adminBtn)      adminBtn.style.display      = isAdmin ? 'inline-flex' : 'none';
            if (signoutBtn)    signoutBtn.style.display    = 'inline-block';
            if (networkNavLi)  networkNavLi.style.display  = 'list-item'; /* show for all signed-in users incl. admin */
            setTierIcon(role);
            _watchNavUnread(user.uid); /* start red-dot watcher for unread messages */

            /* Show role-specific cards on home page â€” updated 2026-02-20 by Claude */
            var adminCard       = document.getElementById('adminCard');
            var spoonpalCard    = document.getElementById('spoonpalCard');
            var supportDashCard = document.getElementById('supportDashCard');
            var networkCard     = document.getElementById('networkCard');
            var isSupportRole   = ['support','family','nearby-help'].indexOf(role) !== -1;
            // isSupporter flag: student who is also in someone else's support network
            var isStudentSupporter = (role === 'student' && data.isSupporter === true);
            if (adminCard       && isAdmin)                        adminCard.style.display       = 'flex';
            if (spoonpalCard    && isAdmin)                        spoonpalCard.style.display    = 'flex';
            if (supportDashCard && (isSupportRole || isStudentSupporter)) supportDashCard.style.display = 'flex';
            if (networkCard     && !isAdmin)                       networkCard.style.display     = 'flex';

            /* Keep sessionStorage for any pages still reading it */
            try {
              sessionStorage.setItem('academicAlliesUser', JSON.stringify({
                name: user.displayName, email: user.email, role: role
              }));
            } catch (e) {}
          })
          .catch(function () {
            /* Firestore unavailable â€” show name, student icon as fallback.
               Only reached for users who were already authenticated; truly
               new unknown users will have been caught and signed out above. */
            var first = (user.displayName || user.email || '').split(' ')[0];
            if (signinBtn)  signinBtn.style.display  = 'none';
            if (infoWrap)   infoWrap.style.display   = 'flex';
            if (nameEl)     nameEl.textContent = first;
            if (signoutBtn) signoutBtn.style.display  = 'inline-block';
            setTierIcon('student');
          });
      });
    }

    /* â”€â”€ 2. Load aa-firebase.js after SDKs are ready â”€â”€â”€â”€â”€â”€â”€â”€ */
    function loadAAFirebase() {
      if (window.AA && window.AA.auth) { initAuthUI(); return; }
      var s = document.createElement('script');
      s.src    = AA_JS;
      s.onload = initAuthUI;
      s.onerror = function () { console.error('[AA header] Cannot load aa-firebase.js'); };
      document.head.appendChild(s);
    }

    /* â”€â”€ 1. Load Firebase SDKs if the page hasn't loaded them â”€ */
    function loadSDKs() {
      if (window.firebase && window.AA)     { initAuthUI();    return; }
      if (window.firebase && !window.AA)   { loadAAFirebase(); return; }
      var sdks = ['firebase-app-compat.js','firebase-auth-compat.js','firebase-firestore-compat.js'];
      var i = 0;
      function next() {
        if (i >= sdks.length) { loadAAFirebase(); return; }
        var s = document.createElement('script');
        s.src = FB_BASE + sdks[i++]; s.onload = next;
        document.head.appendChild(s);
      }
      next();
    }

    loadSDKs();
  })();
  </script>
<script src="/Academic-Allies/modular/js/draggable.js"></script>
<script src="/Academic-Allies/modular/js/aa-mirror.js"></script>
<script src="/Academic-Allies/modular/js/status-circle.js"></script>
  <!-- auth-system.js retired 2026-02-20 â€” was creating duplicate 'pending' user docs
       and conflicting with aa-firebase.js. Archived as archive/auth-system-RETIRED-*.js -->
</header>

<style>
.site-header {
  background: #f8f9fa;
  border-bottom: 1px solid #e1e5e9;
  padding: 12px 20px;
}

.header-content {
  justify-content: flex-start;
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
}

.home-link {
  display: flex;
  align-items: center;
  text-decoration: none;
  color: #333;
  font-weight: 600;
}

.home-link:hover {
  color: #0066cc;
}

.home-icon {
  margin-right: 8px;
}

.nav-list {
  display: flex;
  list-style: none;
  margin: 0;
  padding: 0;
  gap: 20px;
}

.nav-list li {
  margin: 0;
}

.nav-list a {
  text-decoration: none;
  color: #555;
  font-weight: 500;
  padding: 8px 12px;
  border-radius: 4px;
  transition: background-color 0.2s;
}

.nav-list a:hover {
  background-color: #e9ecef;
  color: #333;
}

.header-controls {
  display: flex;
  align-items: center;
  gap: 15px;
}

#userInfoDisplay {
  font-weight: 500;
  color: #333;
}

#signOutButton {
  padding: 8px 16px;
  background-color: #dc3545;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-weight: 500;
}

#signOutButton:hover {
  background-color: #c82333;
}

#status-circle {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background-color: #9E9E9E; /* grey = default, status-circle.js will update */
  cursor: grab;
  position: fixed; top: 16px; right: 16px; z-index: 1000;
  transition: background-color 0.3s, border-color 0.3s;
}

/* â”€â”€ Status circle banner â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
/* Spec Â§8: fixed directly below the circle (top right), always visible */
#sc-banner {
  position: fixed;
  top: 60px;   /* 16px circle offset + 40px circle height + 4px gap */
  right: 4px;
  z-index: 999;
  font-size: 10px;
  color: #555;
  background: rgba(248,250,252,0.92);
  border: 1px solid #e1e5e9;
  border-radius: 4px;
  padding: 3px 7px;
  text-align: right;
  max-width: 170px;
  line-height: 1.4;
  backdrop-filter: blur(4px);
  pointer-events: none;  /* never blocks clicks */
}

/* â”€â”€ Attribution footer (all screen sizes) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#aa-credit-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(248,250,252,0.92);
  border-top: 1px solid #e1e5e9;
  padding: 4px 16px;
  font-size: 10px;
  color: #999;
  text-align: center;
  z-index: 500;
  backdrop-filter: blur(4px);
  letter-spacing: 0.3px;
}
#aa-credit-footer a { color: #6CA0A3; text-decoration: none; }
#aa-credit-footer a:hover { text-decoration: underline; }

@media (max-width: 768px) {
  .header-content {
    justify-content: flex-start;
    gap: 15px;
  }

  .nav-list {
    flex-wrap: wrap;
    justify-content: flex-start;
    gap: 10px;
  }
}</style>

<!-- â”€â”€ Attribution footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="aa-credit-footer">
  Built with <a href="https://www.perplexity.ai" target="_blank" rel="noopener">Perplexity AI</a>
  &nbsp;Â·&nbsp; Icons &amp; assets assisted by Perplexity
  &nbsp;Â·&nbsp; Code &amp; automation by <a href="https://claude.ai" target="_blank" rel="noopener">Claude</a>
</div>
