<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Academic Allies</title>
  <meta name="description" content="Your disability accommodations and support network" />
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="dashboard">
    <!-- Status Circle top right -->
    <div class="status-indicator">
      <div id="statusCircle" class="status-circle"></div>
    </div>
    <div id="banner" class="banner" style="display:none;"></div>
    <!-- Dashboard content -->
    <div class="dashboard-content">
      <h1>Academic Allies</h1>
      <p class="tagline">Your disability accommodations and support network</p>
      <div class="btn-container">
        <button class="btn" onclick="toggleDefaultView()">Toggle Default View</button>
        <button class="btn" onclick="showAdminPanel()">Admin Panel</button>
      </div>
      <p>Dashboard content here.</p>
    </div>
    <!-- Settings section for custom views -->
    <div class="settings-section" id="settingsSection">
      <h2>Settings</h2>
      <div class="settings-option">
        <label>Status Circle View</label>
        <div class="radio-group">
          <label><input type="radio" name="circleView" value="single" checked onclick="updateStatusCircle('single')" /> Single Color</label>
          <label><input type="radio" name="circleView" value="pie" onclick="updateStatusCircle('pie')" /> Pie Chart (5 Segments)</label>
          <label><input type="radio" name="circleView" value="custom" onclick="updateStatusCircle('custom')" /> Auto-Detected Metric</label>
        </div>
      </div>
      <div class="settings-option">
        <label><input type="checkbox" id="showEmoji" onchange="toggleEmoji()" /> Show Emoji</label>
      </div>
    </div>
    <!-- Perplexity AI Admin Panel -->
    <div id="ai-panel" style="display:none; margin-top:2em;">
      <h2>Perplexity AI Protocol Support Editor</h2>
      <p>Only Admins with Perplexity AI access can use this tool to update protocols, triggers, and support settings. All changes are logged and visible to the student and Admins.</p>
      <textarea id="ai-input" rows="4" style="width:100%;" placeholder="Type your question or update..."></textarea>
      <button id="ai-send" style="margin-top:0.5em;">Send to Perplexity AI</button>
      <div id="ai-response" style="margin-top:1em;background:#f3f6fa;padding:1em;border-radius:8px;"></div>
    </div>
    <!-- Health and Calendar Data -->
    <div style="margin-top:2em;">
      <h2>Health Data</h2>
      <div>Heart Rate: <span id="heartRate">--</span> bpm</div>
      <div>Sleep Hours: <span id="sleepHours">--</span> hrs</div>
      <button onclick="fetchHealthData()">Refresh Health Data</button>
    </div>
    <div style="margin-top:2em;">
      <h2>Calendar</h2>
      <button onclick="googleSignIn()">Sync Google Calendar</button>
      <div id="calendarEvents"></div>
    </div>
  </div>
  <script src="app.js"></script>
</body>
</html>
