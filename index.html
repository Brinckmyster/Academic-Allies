<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Academic Allies</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js"></script>
  <!-- Google Identity Services -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <style>
    :root {
      --color-background: #fcfcf9;
      --color-surface: #fffdfd;
      --color-text: #13343b;
      --color-primary: #21808d;
      --color-academic: #bdbdbd;
      --color-social: #8b5cf6;
      --color-success: #22c55e;
      --color-warning: #fbbf24;
      --color-info: #3b82f6;
      --radius: 8px;
      --space: 16px;
      --shadow: 0 4px 6px -1px rgba(0,0,0,0.04), 0 2px 4px -1px rgba(0,0,0,0.02);
    }
    body { font-family: Arial, sans-serif; background: var(--color-background); color: var(--color-text); margin: 0; padding: var(--space);}
    header { text-align: center; margin-bottom: var(--space);}
    .tagline { color: var(--color-primary); margin-bottom: var(--space);}
    .google-signin { display: flex; justify-content: center; margin: var(--space) 0;}
    .status-indicator { position: fixed; top: var(--space); right: var(--space); z-index: 1000;}
    .status-circle {
      width: 60px; height: 60px; border-radius: 50%;
      background: var(--color-success);
      border: 2px solid var(--color-academic);
      display: flex; align-items: center; justify-content: center;
      box-shadow: var(--shadow);
      transition: background 0.3s;
    }
    .status-circle.segments {
      background: conic-gradient(
        var(--color-success) 0% 20%,
        var(--color-warning) 20% 40%,
        var(--color-info) 40% 60%,
        var(--color-academic) 60% 80%,
        var(--color-social) 80% 100%
      );
    }
    nav { display: flex; justify-content: center; gap: 1em; margin: var(--space) 0; flex-wrap: wrap;}
    nav button { background: var(--color-primary); color: #fff; border: none; padding: 0.5em 1em; border-radius: var(--radius); cursor: pointer; min-width: 100px;}
    nav button.active { background: #1a6873;}
    section { display: none; max-width: 720px; margin: 0 auto var(--space); background: var(--color-surface); border-radius: var(--radius); box-shadow: var(--shadow); padding: var(--space);}
    section.active { display: block;}
    .btn { background: var(--color-primary); color: #fff; border: none; padding: 0.5em 1em; border-radius: var(--radius); cursor: pointer; margin: 0.5em 0; min-width: 120px;}
    .btn:hover { background: #1d7480;}
    .support-list { list-style: none; padding: 0;}
    .support-list li { margin: 0.5em 0;}
    .role-desc { color: #626c71; font-size: 0.9em; margin-left: 0.5em;}
    .perplexity-ai-panel { margin-top: 2em;}
    .ai-response { margin-top: 1em; background: #f3f6fa; padding: 1em; border-radius: 8px; min-height: 2em;}
    .hidden { display: none !important;}
    .dashboard-summary { background: var(--color-surface); color: var(--color-text); border-radius: 16px; box-shadow: 0 2px 8px #0001; padding: 2em; margin-top: 1.5em;}
    .status-grid { display: flex; gap: 2em; margin: 1em 0;}
    .status-item .label { font-weight: bold;}
    .quick-actions { margin: 1.5em 0;}
    .quick-actions button { margin-right: 1em; margin-bottom: 0.5em;}
    .calendar-preview { margin: 1em 0;}
    .calendar-preview label { margin-right: 1em;}
    .shortcuts-panel { margin-top: 1em; color: #4b6cb7;}
  </style>
</head>
<body>
  <header>
    <h1>Academic Allies</h1>
    <p class="tagline">Your disability accommodations and support network</p>
  </header>

  <!-- Google Sign-In Button Centered above dashboard -->
  <div class="google-signin" id="googleSignInContainer">
    <div id="g_id_onload"
         data-client_id="93996985456-ftjjdrj4t32h106o7cmstiuqut32vf0g.apps.googleusercontent.com"
         data-callback="handleCredentialResponse"
         data-auto_prompt="false"></div>
    <div id="g_id_signin"
         class="g_id_signin"
         data-type="standard"
         data-shape="rectangular"
         data-theme="outline"
         data-text="signin_with"
         data-size="large"
         data-logo_alignment="left"></div>
  </div>

  <!-- Status Circle (top right) -->
  <div class="status-indicator">
    <div class="status-circle segments" id="statusCircle" tabindex="0" aria-label="Status Circle"></div>
  </div>

  <!-- Main Navigation -->
  <nav>
    <button class="nav-btn active" data-section="dashboard">Dashboard</button>
    <button class="nav-btn" data-section="checkins">Check-Ins</button>
    <button class="nav-btn" data-section="logs">Logs</button>
    <button class="nav-btn" data-section="admin">Admin Panel</button>
    <button class="nav-btn" data-section="messages">Messages</button>
    <button class="nav-btn" data-section="settings">Settings</button>
  </nav>

  <!-- App Sections (as before) -->
  <!-- ... (same as previous answer, omitted here for brevity) ... -->

  <script>
    // Firebase config (your real config, no edits needed)
    const firebaseConfig = {
      apiKey: "REPLACE_WITH_SECURE_KEY",
      authDomain: "academic-allies-464901.firebaseapp.com",
      projectId: "academic-allies-464901",
      storageBucket: "academic-allies-464901.appspot.com",
      messagingSenderId: "93996985456",
      appId: "1:93996985456:web:c697df7623bbceeb1d18b5"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    // Google Sign-In callback
    window.handleCredentialResponse = function(response) {
      document.getElementById('googleSignInContainer').classList.add('hidden');
      document.getElementById('userName').textContent = "You";
    };

    // ...rest of your app logic...
  </script>
</body>
</html>
